<div class="main-container">
  <div #mapContainer class="map-container"></div>

  <input type="file" #imageInput class="hidden-input" (change)="onImageFileSelected($event)" accept="image/png, image/jpeg">

  <div class="controls-panel">
    <h4>Map Controls</h4>

    <div *ngIf="imageOverlay">
      <div class="control-group">
        <label for="scale">Image Scale: {{ imageScale }}</label>
        <input 
          type="range" 
          id="scale" 
          min="0.1" 
          max="5" 
          step="0.05" 
          [(ngModel)]="imageScale" 
          (input)="updateImageTransform()">
      </div>
      <div class="control-group">
        <label for="rotation">Image Rotation: {{ imageRotation }}Â°</label>
        <input 
          type="range" 
          id="rotation" 
          min="0" 
          max="360" 
          step="1" 
          [(ngModel)]="imageRotation" 
          (input)="updateImageTransform()">
      </div>
      <button class="control-button danger" (click)="removeImage()">Remove Image</button>
    </div>

    <div *ngIf="!imageOverlay && boundaryPolygonLayer" class="info-text">
      Click on the drawn boundary to add an image.
    </div>
    <div *ngIf="!boundaryPolygonLayer" class="info-text">
      Use the draw tool (polygon) on the left to create a boundary.
    </div>

    <hr>

    <button class="control-button" (click)="resetMap()">Reset Map</button>
  </div>
</div>